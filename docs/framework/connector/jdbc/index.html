<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-framework/connector/jdbc" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.4.0">
<title data-rh="true">JDBC Connector | Apache StreamPark</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://streampark.apache.org/docs/framework/connector/jdbc"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" property="og:locale:alternate" content="zh_CN"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="JDBC Connector | Apache StreamPark"><meta data-rh="true" name="description" content="Apache Flink® officially provides the JDBC connector for reading from or writing to JDBC, which can provides AT_LEAST_ONCE (at least once) processing semantics."><meta data-rh="true" property="og:description" content="Apache Flink® officially provides the JDBC connector for reading from or writing to JDBC, which can provides AT_LEAST_ONCE (at least once) processing semantics."><link data-rh="true" rel="icon" href="/image/favicon.ico"><link data-rh="true" rel="canonical" href="https://streampark.apache.org/docs/framework/connector/jdbc"><link data-rh="true" rel="alternate" href="https://streampark.apache.org/docs/framework/connector/jdbc" hreflang="en"><link data-rh="true" rel="alternate" href="https://streampark.apache.org/zh-CN/docs/framework/connector/jdbc" hreflang="zh-CN"><link data-rh="true" rel="alternate" href="https://streampark.apache.org/docs/framework/connector/jdbc" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Apache StreamPark RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Apache StreamPark Atom Feed"><link rel="stylesheet" href="/assets/css/styles.2e6f0332.css">
<script src="/assets/js/runtime~main.4bed6ba8.js" defer="defer"></script>
<script src="/assets/js/main.137e6c6d.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();null!==e?t(e):window.matchMedia("(prefers-color-scheme: dark)").matches?t("dark"):window.matchMedia("(prefers-color-scheme: light)").matches?t("light"):t("dark")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_iAPF" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/image/logo.png" alt="StreamPark Logo" class="themedComponent_UqTf themedComponent--light_DBg9"><img src="/image/logo.png" alt="StreamPark Logo" class="themedComponent_UqTf themedComponent--dark_B9xw"></div><b class="navbar__title text--truncate">StreamPark</b></a></div><div class="navbar__items navbar__items--right"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/get-started/intro">Docs</a><a class="navbar__item navbar__link" href="/download">Download</a><a class="navbar__item navbar__link" href="/community/">Community</a><a class="navbar__item navbar__link" href="/team">Team</a><a class="navbar__item navbar__link" href="/user">Users</a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link" href="/docs/framework/connector/jdbc">ASF</a><ul class="dropdown__menu"><li><a href="https://www.apache.org/" target="_blank" rel="noopener noreferrer" class="dropdown__link">Foundation</a></li><li><a href="https://www.apache.org/licenses/" target="_blank" rel="noopener noreferrer" class="dropdown__link">License</a></li><li><a href="https://www.apache.org/events/current-event" target="_blank" rel="noopener noreferrer" class="dropdown__link">Events</a></li><li><a href="https://www.apache.org/security/" target="_blank" rel="noopener noreferrer" class="dropdown__link">Security</a></li><li><a href="https://www.apache.org/foundation/sponsorship.html" target="_blank" rel="noopener noreferrer" class="dropdown__link">Sponsorship</a></li><li><a href="https://www.apache.org/foundation/policies/privacy.html" target="_blank" rel="noopener noreferrer" class="dropdown__link">Privacy</a></li><li><a href="https://www.apache.org/foundation/thanks.html" target="_blank" rel="noopener noreferrer" class="dropdown__link">Thanks</a></li></ul></div><a class="navbar__item navbar__link" href="/blog">Blog</a><a href="https://github.com/apache/streampark/issues/507" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">FAQ</a><a href="https://github.com/apache/streampark" target="_blank" class="githubStars_qnS9"><div class="githubStarsContainer_O7dk"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M8 1.75C4.27062 1.75 1.25 4.77062 1.25 8.5C1.25 11.4869 3.18219 14.0097 5.86531 14.9041C6.20281 14.9631 6.32937 14.7606 6.32937 14.5834C6.32937 14.4231 6.32094 13.8916 6.32094 13.3263C4.625 13.6384 4.18625 12.9128 4.05125 12.5331C3.97531 12.3391 3.64625 11.74 3.35938 11.5797C3.12312 11.4531 2.78562 11.1409 3.35094 11.1325C3.8825 11.1241 4.26219 11.6219 4.38875 11.8244C4.99625 12.8453 5.96656 12.5584 6.35469 12.3813C6.41375 11.9425 6.59094 11.6472 6.785 11.4784C5.28312 11.3097 3.71375 10.7275 3.71375 8.14563C3.71375 7.41156 3.97531 6.80406 4.40563 6.33156C4.33812 6.16281 4.10187 5.47094 4.47312 4.54281C4.47312 4.54281 5.03844 4.36563 6.32937 5.23469C6.86937 5.08281 7.44313 5.00687 8.01688 5.00687C8.59063 5.00687 9.16438 5.08281 9.70438 5.23469C10.9953 4.35719 11.5606 4.54281 11.5606 4.54281C11.9319 5.47094 11.6956 6.16281 11.6281 6.33156C12.0584 6.80406 12.32 7.40312 12.32 8.14563C12.32 10.7359 10.7422 11.3097 9.24031 11.4784C9.485 11.6894 9.69594 12.0944 9.69594 12.7272C9.69594 13.63 9.6875 14.3556 9.6875 14.5834C9.6875 14.7606 9.81406 14.9716 10.1516 14.9041C12.8178 14.0097 14.75 11.4784 14.75 8.5C14.75 4.77062 11.7294 1.75 8 1.75Z" fill="currentColor"></path></svg><span class="githubText_YlX6">4.0k</span></div></a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link" href="/docs/framework/connector/jdbc"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_DSK9"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg></a><ul class="dropdown__menu"><li><a href="/docs/framework/connector/jdbc" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="en">English</a></li><li><a href="/zh-CN/docs/framework/connector/jdbc" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="zh-CN">简体中文</a></li></ul></div><a class="colorModeButton_yITp undefined"><svg xmlns="http://www.w3.org/2000/svg" fill="none" width="16" height="16" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" d="M21.752 15.002A9.718 9.718 0 0118 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 003 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 009.002-5.998z"></path></svg></a><div class="navbarSearchContainer_dCNk"><div class="navbar__search searchBarContainer_J4xU"><input placeholder="Search" aria-label="Search" class="navbar__search-input"><div class="loadingRing_LUbS searchBarLoadingRing_NKlU"><div></div><div></div><div></div><div></div></div></div></div><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_s3h1"><div class="docsWrapper_E7vy"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_BRak" type="button"></button><div class="docRoot_s2Ko"><aside class="theme-doc-sidebar-container docSidebarContainer_POIF"><div class="sidebarViewport_KJAl"><div class="sidebar_mhZE"><div class="sidebarSearchContainer_Lwc8"></div><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_Y1UP" style="padding-top:1.75rem;padding-bottom:250px;overflow-y:auto"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menuListItemCollapsed_i9wL menu__list-item-collapsible" data-link="true"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/get-started/intro">Get Started</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menuListItemCollapsed_i9wL menu__list-item-collapsible" data-link="true"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/platform/alert">Platform User Guide</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menuListItemCollapsed_i9wL menu__list-item-collapsible" data-link="true"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/docs/framework/dev-model">Development Framework</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/framework/dev-model">Programming Paradigm</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/framework/config">Project Configuration</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/framework/quick-start">Quick Start</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menuListItemCollapsed_i9wL menu__list-item-collapsible" data-link="true"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/docs/framework/connector/kafka">Connectors</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/framework/connector/kafka">Apache Kafka Connector</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/framework/connector/jdbc">JDBC Connector</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/framework/connector/clickhouse">ClickHouse Connector</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/framework/connector/doris">Apache Doris Connector</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/framework/connector/es">Elasticsearch Connector</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/framework/connector/hbase">Apache HBase Connector</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/framework/connector/http">HTTP Connector</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/framework/connector/redis">Redis Connector</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menuListItemCollapsed_i9wL menu__list-item-collapsible" data-link="true"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/development/development">Development Guide</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_rU82"><div class="container padding-top--md padding-bottom--lg"><div class="row" style="flex-wrap:nowrap"><div class="col docItemCol_z5aJ"><div class="docItemContainer_c0TR"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_NGVS" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_AHLz"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Development Framework</span><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Connectors</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">JDBC Connector</span><meta itemprop="position" content="3"></li></ul></nav><div class="theme-doc-markdown markdown"><header><h1>JDBC Connector</h1></header><p>Apache Flink® officially provides the <a href="https://ci.apache.org/projects/flink/flink-docs-release-1.12/dev/connectors/jdbc.html" target="_blank" rel="noopener noreferrer">JDBC</a> connector for reading from or writing to JDBC, which can provides <strong>AT_LEAST_ONCE</strong> (at least once) processing semantics.</p>
<p>Apache StreamPark implements <strong>EXACTLY_ONCE</strong> (Exactly Once) semantics of <code>JdbcSink</code> based on two-stage commit, and uses <a href="https://github.com/brettwooldridge/HikariCP" target="_blank" rel="noopener noreferrer"><code>HikariCP</code></a> as connection pool to make data reading and write data more easily and accurately.</p>
<h2 class="anchor anchorWithStickyNavbar_xQxx" id="jdbc-configuration">JDBC Configuration<a class="hash-link" aria-label="Direct link to JDBC Configuration" title="Direct link to JDBC Configuration" href="/docs/framework/connector/jdbc#jdbc-configuration">​</a></h2>
<p>The implementation of the <code>Jdbc Connector</code> in <code>StreamPark</code> uses the <a href="https://github.com/brettwooldridge/HikariCP" target="_blank" rel="noopener noreferrer"><code>HikariCP</code></a> connection pool, which is configured under the namespace of <code>jdbc</code>, and the agreed configuration is as follows:</p>
<div class="language-yaml codeBlockContainer_APcc theme-code-block"><div class="codeBlockContent_ihow"><pre tabindex="0" class="prism-code language-yaml codeBlock_iz1S thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><code class="codeBlockLines_GbGI"><span class="token-line" style="color:#9CDCFE"><span class="token key atrule">jdbc</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token key atrule">semantic</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> EXACTLY_ONCE </span><span class="token comment" style="color:rgb(106, 153, 85)"># EXACTLY_ONCE|AT_LEAST_ONCE|NONE</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token key atrule">username</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> root</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token key atrule">password</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">123456</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token key atrule">driverClassName</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> com.mysql.jdbc.Driver</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token key atrule">connectionTimeout</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">30000</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token key atrule">idleTimeout</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">30000</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token key atrule">maxLifetime</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">30000</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token key atrule">maximumPoolSize</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">6</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token key atrule">jdbcUrl</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> jdbc</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain">mysql</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain">//localhost</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain">3306/test</span><span class="token punctuation" style="color:rgb(212, 212, 212)">?</span><span class="token plain">useSSL=false</span><span class="token important">&amp;allowPublicKeyRetrieval=true</span><br></span></code></pre><div class="buttonGroup_lm1i"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_JoRx" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_ZTbR"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_r18r"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_xQxx" id="semantic">Semantic<a class="hash-link" aria-label="Direct link to Semantic" title="Direct link to Semantic" href="/docs/framework/connector/jdbc#semantic">​</a></h3>
<p>The parameter <code>semantic</code> is the semantics when writing in <code>JdbcSink</code>, only effect for <strong>JdbcSink</strong>, <code>JdbcSource</code> will automatically mask this parameter, there are three options</p>
<div class="counter"><ul>
<li>EXACTLY_ONCE</li>
<li>AT_LEAST_ONCE</li>
<li>NONE</li>
</ul></div>
<h4 class="anchor anchorWithStickyNavbar_xQxx" id="exactly_once">EXACTLY_ONCE<a class="hash-link" aria-label="Direct link to EXACTLY_ONCE" title="Direct link to EXACTLY_ONCE" href="/docs/framework/connector/jdbc#exactly_once">​</a></h4>
<p>If <code>JdbcSink</code> is configured with <code>EXACTLY_ONCE</code> semantics, the underlying two-phase commit implementation is used to complete the write, at this time to Apache Flink® with <code>Checkpointing</code> to take effect, how to open checkpoint please refer to Chapter 2 on <a href="/docs/model/conf">checkpoint</a> configuration section</p>
<h4 class="anchor anchorWithStickyNavbar_xQxx" id="at_least_once--none">AT_LEAST_ONCE &amp;&amp; NONE<a class="hash-link" aria-label="Direct link to AT_LEAST_ONCE &amp;&amp; NONE" title="Direct link to AT_LEAST_ONCE &amp;&amp; NONE" href="/docs/framework/connector/jdbc#at_least_once--none">​</a></h4>
<p>The default does not specify that the <code>NONE</code> semantics will be used, both configurations have the same effect, both are guaranteed <strong>at least once</strong> semantics</p>
<div class="theme-admonition theme-admonition-tip alert alert--success admonition"><div class="alert-icon admonition-icon"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></div><div class="alert-content admonition-content"><div class="admonition-heading">tip</div><p>The benefit of turning on <code>EXACTLY_ONCE</code> exactly once is obvious, to ensure the accuracy of the data, but the cost is also high, the need for <code>checkpoint</code> support, the underlying simulation of the transaction is submitted to read, there is a certain loss of real-time, if your business requirements for data accuracy is not so high, it is recommended to use <code>AT_LEAST_ONCE</code> semantics</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_xQxx" id="others">Others<a class="hash-link" aria-label="Direct link to Others" title="Direct link to Others" href="/docs/framework/connector/jdbc#others">​</a></h3>
<p>Except for the special <code>semantic</code> configuration item, all other configurations must comply with the <strong>HikariCP</strong> connection pool configuration, please refer to the <code>Light HikariCP</code> <a href="https://github.com/brettwooldridge/" target="_blank" rel="noopener noreferrer">official website documentation</a> for the specific configurable items and the role of each parameter. HikariCP#gear-configuration-knobs-baby).</p>
<h2 class="anchor anchorWithStickyNavbar_xQxx" id="jdbc-read">JDBC read<a class="hash-link" aria-label="Direct link to JDBC read" title="Direct link to JDBC read" href="/docs/framework/connector/jdbc#jdbc-read">​</a></h2>
<p>In <code>StreamPark</code>, <code>JdbcSource</code> is used to read data, and according to the data <code>offset</code> to read data can be replayed, we look at the specific how to use <code>JdbcSource</code> to read data, if the demand is as follows</p>
<div class="counter"><ul>
<li>Read data from the <code>t_order</code> table, using the <code>timestamp</code> field, starting at <code>2020-12-16 12:00:00</code> and extracting data from there.</li>
<li>Construct the read data into an <code>Order</code> object and return it</li>
</ul></div>
<p>The jdbc configuration and reading code is as follows</p>
<div class="tabs-container tabList_rr1b"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_bI3v tabs__item--active">Setting</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_bI3v">Scala</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_bI3v">Java</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_t88E"><div class="language-yaml codeBlockContainer_APcc theme-code-block"><div class="codeBlockContent_ihow"><pre tabindex="0" class="prism-code language-yaml codeBlock_iz1S thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><code class="codeBlockLines_GbGI"><span class="token-line" style="color:#9CDCFE"><span class="token key atrule">jdbc</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token key atrule">driverClassName</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> com.mysql.jdbc.Driver</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token key atrule">jdbcUrl</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> jdbc</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain">mysql</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain">//localhost</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain">3306/test</span><span class="token punctuation" style="color:rgb(212, 212, 212)">?</span><span class="token plain">useSSL=false</span><span class="token important">&amp;allowPublicKeyRetrieval=true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token key atrule">username</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> root</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token key atrule">password</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">123456</span><br></span></code></pre><div class="buttonGroup_lm1i"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_JoRx" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_ZTbR"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_r18r"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><div role="tabpanel" class="tabItem_t88E" hidden=""><div class="language-scala codeBlockContainer_APcc theme-code-block"><div class="codeBlockContent_ihow"><pre tabindex="0" class="prism-code language-scala codeBlock_iz1S thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><code class="codeBlockLines_GbGI"><span class="token-line" style="color:#9CDCFE"><span class="token plain">import org.apache.streampark.flink.core.scala.FlinkStreaming</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">import org.apache.streampark.flink.core.scala.source.JdbcSource</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">import org.apache.flink.api.scala._</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">object MySQLSourceApp extends FlinkStreaming {</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  override def handle(): Unit = {</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    JdbcSource().getDataStream[Order](lastOne =&gt; {</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">      Thread.sleep(5000);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">      val laseOffset = if (lastOne == null) &quot;2020-12-16 12:00:00&quot; else lastOne.timestamp</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">      s&quot;select * from t_order where timestamp &gt; &#x27;$laseOffset&#x27; order by timestamp asc &quot;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">      _.map(x =&gt; new Order(x(&quot;market_id&quot;).toString, x(&quot;timestamp&quot;).toString))</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    ).print()</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">}</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">class Order(val marketId: String, val timestamp: String) extends Serializable</span><br></span></code></pre><div class="buttonGroup_lm1i"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_JoRx" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_ZTbR"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_r18r"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><div role="tabpanel" class="tabItem_t88E" hidden=""><div class="language-java codeBlockContainer_APcc theme-code-block"><div class="codeBlockContent_ihow"><pre tabindex="0" class="prism-code language-java codeBlock_iz1S thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><code class="codeBlockLines_GbGI"><span class="token-line" style="color:#9CDCFE"><span class="token plain">import org.apache.streampark.flink.core.java.function.SQLQueryFunction;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">import org.apache.streampark.flink.core.java.function.SQLResultFunction;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">import org.apache.streampark.flink.core.java.function.StreamEnvConfigFunction;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">import org.apache.streampark.flink.core.java.source.JdbcSource;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">import org.apache.streampark.flink.core.scala.StreamingContext;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">import org.apache.streampark.flink.core.scala.util.StreamEnvConfig;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">import org.apache.flink.api.common.typeinfo.TypeInformation;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">import java.io.Serializable;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">import java.util.ArrayList;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">import java.util.List;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">public class MySQLJavaApp {</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    public static void main(String[] args) {</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        StreamEnvConfig envConfig = new StreamEnvConfig(args, null);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        StreamingContext context = new StreamingContext(envConfig);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        new JdbcSource&lt;Order&gt;(context)</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">                .getDataStream(</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">                        (SQLQueryFunction&lt;Order&gt;) lastOne -&gt; {</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">                            Thread.sleep(5000);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">                            Serializable lastOffset = lastOne == null</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">                            ? &quot;2020-12-16 12:00:00&quot;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">                            : lastOne.timestamp;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">                            return String.format(</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">                                &quot;select * from t_order &quot; +</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">                                &quot;where timestamp &gt; &#x27;%s&#x27; &quot; +</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">                                &quot;order by timestamp asc &quot;,</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">                                lastOffset</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">                            );</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">                        },</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">                        (SQLResultFunction&lt;Order&gt;) iterable -&gt; {</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">                            List&lt;Order&gt; result = new ArrayList&lt;&gt;();</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">                            iterable.forEach(item -&gt; {</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">                                Order Order = new Order();</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">                                Order.marketId = item.get(&quot;market_id&quot;).toString();</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">                                Order.timestamp = Long.parseLong(item.get(&quot;timestamp&quot;).toString());</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">                                result.add(Order);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">                            });</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">                            return result;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">                        })</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">                .returns(TypeInformation.of(Order.class))</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">                .print();</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        context.start();</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup_lm1i"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_JoRx" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_ZTbR"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_r18r"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div>
<p>Take the <code>java</code> api as an example, here you have to accept two parameters</p>
<div class="counter"><ul>
<li><code>SQLQueryFunction&lt;T&gt; queryFunc</code></li>
<li><code>SQLResultFunction&lt;T&gt; resultFunc</code></li>
</ul></div>
<h3 class="anchor anchorWithStickyNavbar_xQxx" id="queryfunc-to-get-sql">queryFunc to get sql<a class="hash-link" aria-label="Direct link to queryFunc to get sql" title="Direct link to queryFunc to get sql" href="/docs/framework/connector/jdbc#queryfunc-to-get-sql">​</a></h3>
<p><code>queryFunc</code> needs to pass in a <code>function</code> of type <code>SQLQueryFunction</code>, the <code>function</code> is used to get the query sql, will return the last record to the developer, and then the developer needs to return a new query <code>sql</code> according to the last record, <code>queryFunc</code> is defined as follows :</p>
<div class="language-java codeBlockContainer_APcc theme-code-block"><div class="codeBlockContent_ihow"><pre tabindex="0" class="prism-code language-java codeBlock_iz1S thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><code class="codeBlockLines_GbGI"><span class="token-line" style="color:#9CDCFE"><span class="token plain">@FunctionalInterface</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">public interface SQLQueryFunction&lt;T&gt; extends Serializable {</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    /**</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">     * @return query sql</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">     */</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    String query(T last) throws Exception;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup_lm1i"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_JoRx" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_ZTbR"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_r18r"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>So the above code, the first time <code>lastOne</code> (the last record) equals null, and will be judged, if null will take the default <code>offset</code>, query sql according to the <code>timestamp</code> field in positive order, so that after the first query, will return the last record, the next time you can directly use this record as the basis for the next query</p>
<div class="theme-admonition theme-admonition-info alert alert--info admonition"><div class="alert-icon admonition-icon"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></div><div class="alert-content admonition-content"><div class="admonition-heading">Cautions</div><p><code>JdbcSource</code> implements the <code>CheckpointedFunction</code>, that is, when the program opens <strong>checkpoint</strong>, it will save these state data such as <code>laseOffset</code> to the <code>state backend</code>, so that when the program hangs, it will automatically restore <code>offset</code> from <code>checkpoint</code>, and continue to read data from the last position,
In the production environment, a more flexible way is writing <code>lastOffset</code> to storage, such as <code>redis</code>, after each query and then update the offset to <code>redis</code>, so that even if the program hangs unexpectedly, you can also get the last <code>offset</code> from <code>redis</code> for data extract, but also very convenient to adjust <code>offset</code> for data replay</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_xQxx" id="resultfunc-process-the-query-data">resultFunc process the query data<a class="hash-link" aria-label="Direct link to resultFunc process the query data" title="Direct link to resultFunc process the query data" href="/docs/framework/connector/jdbc#resultfunc-process-the-query-data">​</a></h3>
<p>The parameter type of <code>resultFunc</code> is <code>SQLResultFunction&lt;T&gt;</code>, which puts a query result set into <code>Iterable&lt;Map&lt;String, ? &gt;&gt;</code>, and then returns it to the developer, at the same time, you can see that each iteration of the iterator returns a <code>Map</code>, the <code>Map</code> records a complete line of records, the <code>Map</code> <code>key</code> is the query field, <code>value</code> is the value, <code>SQLResultFunction&lt;T&gt;</code> is defined as follows</p>
<div class="language-java codeBlockContainer_APcc theme-code-block"><div class="codeBlockContent_ihow"><pre tabindex="0" class="prism-code language-java codeBlock_iz1S thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><code class="codeBlockLines_GbGI"><span class="token-line" style="color:#9CDCFE"><span class="token plain">@FunctionalInterface</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">public interface SQLResultFunction&lt;T&gt; extends Serializable {</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    Iterable&lt;T&gt; result(Iterable&lt;Map&lt;String, ?&gt;&gt; iterable);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup_lm1i"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_JoRx" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_ZTbR"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_r18r"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_xQxx" id="jdbc-read-write">JDBC Read Write<a class="hash-link" aria-label="Direct link to JDBC Read Write" title="Direct link to JDBC Read Write" href="/docs/framework/connector/jdbc#jdbc-read-write">​</a></h2>
<p>In <code>StreamPark</code>, <code>JdbcSink</code> is used to write data, let&#x27;s see how to write data with <code>JdbcSink</code>, the example is to read data from <code>kakfa</code> and write to <code>mysql</code>.</p>
<div class="tabs-container tabList_rr1b"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_bI3v tabs__item--active">Setting</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_bI3v">Scala</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_bI3v">Java</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_t88E"><div class="language-yaml codeBlockContainer_APcc theme-code-block"><div class="codeBlockContent_ihow"><pre tabindex="0" class="prism-code language-yaml codeBlock_iz1S thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><code class="codeBlockLines_GbGI"><span class="token-line" style="color:#9CDCFE"><span class="token key atrule">kafka.source</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token key atrule">bootstrap.servers</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> kfk1</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token number" style="color:rgb(181, 206, 168)">9092</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain">kfk2</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token number" style="color:rgb(181, 206, 168)">9092</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain">kfk3</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token number" style="color:rgb(181, 206, 168)">9092</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token key atrule">pattern</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> user</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token key atrule">group.id</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> user_02</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token key atrule">auto.offset.reset</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> earliest </span><span class="token comment" style="color:rgb(106, 153, 85)"># (earliest | latest)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(212, 212, 212)">...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token key atrule">jdbc</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token key atrule">semantic</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> EXACTLY_ONCE </span><span class="token comment" style="color:rgb(106, 153, 85)"># EXACTLY_ONCE|AT_LEAST_ONCE|NONE</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token key atrule">driverClassName</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> com.mysql.jdbc.Driver</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token key atrule">jdbcUrl</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> jdbc</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain">mysql</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain">//localhost</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain">3306/test</span><span class="token punctuation" style="color:rgb(212, 212, 212)">?</span><span class="token plain">useSSL=false</span><span class="token important">&amp;allowPublicKeyRetrieval=true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token key atrule">username</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> root</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token key atrule">password</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">123456</span><br></span></code></pre><div class="buttonGroup_lm1i"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_JoRx" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_ZTbR"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_r18r"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="theme-admonition theme-admonition-danger alert alert--danger admonition"><div class="alert-icon admonition-icon"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></div><div class="alert-content admonition-content"><div class="admonition-heading">Cautions</div><p>The configuration under <code>jdbc</code> <strong>semantic</strong> is the semantics of writing, as described in <a href="/docs/framework/connector/jdbc#jdbc-info-config">Jdbc Info Configuration</a>, the configuration will only take effect on <code>JdbcSink</code>, <code>StreamPark</code> is based on two-phase commit to achieve <strong>EXACTLY_ONCE</strong> semantics,
This requires that the database being manipulated supports transactions(<code>mysql</code>, <code>oracle</code>, <code>MariaDB</code>, <code>MS SQL Server</code>), theoretically all databases that support standard Jdbc transactions can do EXACTLY_ONCE (exactly once) write</p></div></div></div><div role="tabpanel" class="tabItem_t88E" hidden=""><div class="language-scala codeBlockContainer_APcc theme-code-block"><div class="codeBlockContent_ihow"><pre tabindex="0" class="prism-code language-scala codeBlock_iz1S thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><code class="codeBlockLines_GbGI"><span class="token-line" style="color:#9CDCFE"><span class="token plain">import org.apache.streampark.common.util.JsonUtils</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">import org.apache.streampark.flink.core.scala.FlinkStreaming</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">import org.apache.streampark.flink.core.scala.sink.JdbcSink</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">import org.apache.streampark.flink.core.scala.source.KafkaSource</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">import org.apache.flink.api.common.typeinfo.TypeInformation</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">import org.apache.flink.api.java.typeutils.TypeExtractor.getForClass</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">import org.apache.flink.api.scala._</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">import org.apache.flink.streaming.connectors.kafka.KafkaDeserializationSchema</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">object JdbcSinkApp extends FlinkStreaming {</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  override def handle(): Unit = {</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        val source = KafkaSource()</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">          .getDataStream[String]()</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">          .map(x =&gt; JsonUtils.read[User](x.value))</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        JdbcSink().sink[User](source)(user =&gt;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">          s&quot;&quot;&quot;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">          |insert into t_user(`name`,`age`,`gender`,`address`)</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">          |value(&#x27;${user.name}&#x27;,${user.age},${user.gender},&#x27;${user.address}&#x27;)</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">          |&quot;&quot;&quot;.stripMargin</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        )</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">}</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">case class User(name:String,age:Int,gender:Int,address:String)</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_lm1i"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_JoRx" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_ZTbR"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_r18r"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><div role="tabpanel" class="tabItem_t88E" hidden=""><div class="language-java codeBlockContainer_APcc theme-code-block"><div class="codeBlockContent_ihow"><pre tabindex="0" class="prism-code language-java codeBlock_iz1S thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><code class="codeBlockLines_GbGI"><span class="token-line" style="color:#9CDCFE"><span class="token plain">import com.fasterxml.jackson.databind.ObjectMapper;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">import org.apache.streampark.flink.core.java.function.StreamEnvConfigFunction;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">import org.apache.streampark.flink.core.java.source.KafkaSource;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">import org.apache.streampark.flink.core.scala.StreamingContext;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">import org.apache.streampark.flink.core.scala.source.KafkaRecord;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">import org.apache.streampark.flink.core.scala.util.StreamEnvConfig;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">import org.apache.flink.api.common.functions.MapFunction;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">import org.apache.flink.api.common.typeinfo.TypeInformation;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">import org.apache.flink.streaming.connectors.kafka.KafkaDeserializationSchema;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">import org.apache.kafka.clients.consumer.ConsumerRecord;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">import java.io.Serializable;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">import static org.apache.flink.api.java.typeutils.TypeExtractor.getForClass;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">public class JdbcSinkJavaApp {</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    public static void main(String[] args) {</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        StreamEnvConfig envConfig = new StreamEnvConfig(args, null);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        StreamingContext context = new StreamingContext(envConfig);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        ObjectMapper mapper = new ObjectMapper();</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        DataStream&lt;JavaUser&gt; source = new KafkaSource&lt;String&gt;(context)</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">                .getDataStream()</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">                .map((MapFunction&lt;KafkaRecord&lt;String&gt;, JavaUser&gt;) value -&gt;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">                    mapper.readValue(value.value(), JavaUser.class));</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        new JdbcSink&lt;JavaUser&gt;(context)</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">                .sql((SQLFromFunction&lt;JavaUser&gt;) JavaUser::toSql)</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">                .sink(source);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        context.start();</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">}</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">class JavaUser implements Serializable {</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    String name;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    Integer age;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    Integer gender;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    String address;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    public String toSql() {</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        return String.format(</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">                &quot;insert into t_user(`name`,`age`,`gender`,`address`) value(&#x27;%s&#x27;,%d,%d,&#x27;%s&#x27;)&quot;,</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">                name,</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">                age,</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">                gender,</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">                address);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">}</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_lm1i"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_JoRx" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_ZTbR"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_r18r"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_xQxx" id="generate-target-sql-based-on-data-flow">Generate target SQL based on data flow<a class="hash-link" aria-label="Direct link to Generate target SQL based on data flow" title="Direct link to Generate target SQL based on data flow" href="/docs/framework/connector/jdbc#generate-target-sql-based-on-data-flow">​</a></h3>
<p>When writing, you need to know the specific <code>sql</code> statement to write, the <code>sql</code> statement needs to be provided by the developer by a way of the <code>function</code>, in the <code>scala</code> api, directly after the <code>sink</code> method followed by the <code>function</code>, while the <code>java</code> api is passed a <code>function</code> of type <code>SQLFromFunction</code> through the <code>sql()</code> method</p>
<p>The following is an example of the <code>java</code> api, let&#x27;s look at the definition of the <code>function</code> method that provides sql in the <code>java</code> api</p>
<div class="language-java codeBlockContainer_APcc theme-code-block"><div class="codeBlockContent_ihow"><pre tabindex="0" class="prism-code language-java codeBlock_iz1S thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><code class="codeBlockLines_GbGI"><span class="token-line" style="color:#9CDCFE"><span class="token plain">@FunctionalInterface</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">public interface SQLFromFunction&lt;T&gt; extends Serializable {</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    /**</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">     * @param bean</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">     * @return</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">     */</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    String from(T bean);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup_lm1i"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_JoRx" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_ZTbR"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_r18r"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The generic <code>&lt;T&gt;</code> on the <code>SQLFromFunction</code> is the actual data type in the <code>DataStream</code>, the <code>function</code> has a method <code>form(T bean)</code>, the <code>bean</code> is a specific data in the current <code>DataStream</code>, the data will be returned to the developer, the developer will based on this data, generate a specific <code>sql</code> that can be inserted into the database</p>
<h3 class="anchor anchorWithStickyNavbar_xQxx" id="set-to-write-batch-size">Set to write batch size<a class="hash-link" aria-label="Direct link to Set to write batch size" title="Direct link to Set to write batch size" href="/docs/framework/connector/jdbc#set-to-write-batch-size">​</a></h3>
<p>In non-<code>EXACTLY_ONCE</code> (under the semantics of exactly once) you can set <code>batch.size</code> to improve the performance of JDBC writes (provided that the business allows it), configured as follows</p>
<div class="language-yaml codeBlockContainer_APcc theme-code-block"><div class="codeBlockContent_ihow"><pre tabindex="0" class="prism-code language-yaml codeBlock_iz1S thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><code class="codeBlockLines_GbGI"><span class="token-line" style="color:#9CDCFE"><span class="token key atrule">jdbc</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token key atrule">semantic</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> EXACTLY_ONCE </span><span class="token comment" style="color:rgb(106, 153, 85)"># EXACTLY_ONCE|AT_LEAST_ONCE|NONE</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token key atrule">driverClassName</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> com.mysql.jdbc.Driver</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token key atrule">jdbcUrl</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> jdbc</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain">mysql</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain">//localhost</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain">3306/test</span><span class="token punctuation" style="color:rgb(212, 212, 212)">?</span><span class="token plain">useSSL=false</span><span class="token important">&amp;allowPublicKeyRetrieval=true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token key atrule">username</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> root</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token key atrule">password</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">123456</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token key atrule">batch.size</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">1000</span><br></span></code></pre><div class="buttonGroup_lm1i"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_JoRx" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_ZTbR"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_r18r"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>In this way, instead of writing data immediately when it comes, and then performs a bulk insert</p>
<div class="theme-admonition theme-admonition-danger alert alert--danger admonition"><div class="alert-icon admonition-icon"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></div><div class="alert-content admonition-content"><div class="admonition-heading">Cautions</div><p>This setting only takes effect the non-<code>EXACTLY_ONCE</code> semantics, the benefit is to improve the performance of Jdbc writes, a large number of data insertion, the disadvantage is that data writing will inevitably have a delay, please use caution according to the actual use of the situation</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_xQxx" id="multi-instance-jdbc-support">Multi-instance JDBC support<a class="hash-link" aria-label="Direct link to Multi-instance JDBC support" title="Direct link to Multi-instance JDBC support" href="/docs/framework/connector/jdbc#multi-instance-jdbc-support">​</a></h2>
<h2 class="anchor anchorWithStickyNavbar_xQxx" id="specify-jdbc-connection-information-manually">Specify JDBC connection information manually<a class="hash-link" aria-label="Direct link to Specify JDBC connection information manually" title="Direct link to Specify JDBC connection information manually" href="/docs/framework/connector/jdbc#specify-jdbc-connection-information-manually">​</a></h2></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/apache/streampark-website/edit/dev/docs/framework/connector/2.jdbc.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_VBMe" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_FxJX"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev paginationNavLink_UdUv" href="/docs/framework/connector/kafka"><svg width="24" height="25" viewBox="0 0 24 25" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M9.2751 19.175L10.3251 18.125L5.4501 13.25H21.6001V11.75H5.4501L10.3251 6.87501L9.2751 5.82501L2.5751 12.5L9.2751 19.175Z" fill="currentColor"></path></svg><div class="paginationNavContent__3xr"><div class="pagination-nav__sublabel">Previous</div><div class="paginationNavLabel_YPzM pagination-nav__label">Apache Kafka Connector</div></div></a><a class="pagination-nav__link pagination-nav__link--next paginationNavLink_UdUv" href="/docs/framework/connector/clickhouse"><div class="paginationNavContent__3xr"><div class="pagination-nav__sublabel">Next</div><div class="paginationNavLabel_YPzM pagination-nav__label">ClickHouse Connector</div></div><svg width="24" height="25" viewBox="0 0 24 25" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M14.7249 19.175L13.6749 18.125L18.5499 13.25H2.3999V11.75H18.5499L13.6749 6.87501L14.7249 5.82501L21.4249 12.5L14.7249 19.175Z" fill="currentColor"></path></svg></a></nav></div></div><div class="col col--3"><div class="docTOCContainer_nkwD theme-doc-toc-desktop-container"><div class="tableOfContents_jeP5 thin-scrollbar docTOC_GnpH theme-doc-toc-desktop" style="opacity:0;transform:translateX(100px) translateZ(0)"><ul class="table-of-contents table-of-contents__left-border"><li><a class="table-of-contents__link toc-highlight" href="/docs/framework/connector/jdbc#jdbc-configuration">JDBC Configuration</a><ul><li><a class="table-of-contents__link toc-highlight" href="/docs/framework/connector/jdbc#semantic">Semantic</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/framework/connector/jdbc#others">Others</a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/docs/framework/connector/jdbc#jdbc-read">JDBC read</a><ul><li><a class="table-of-contents__link toc-highlight" href="/docs/framework/connector/jdbc#queryfunc-to-get-sql">queryFunc to get sql</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/framework/connector/jdbc#resultfunc-process-the-query-data">resultFunc process the query data</a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/docs/framework/connector/jdbc#jdbc-read-write">JDBC Read Write</a><ul><li><a class="table-of-contents__link toc-highlight" href="/docs/framework/connector/jdbc#generate-target-sql-based-on-data-flow">Generate target SQL based on data flow</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/framework/connector/jdbc#set-to-write-batch-size">Set to write batch size</a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/docs/framework/connector/jdbc#multi-instance-jdbc-support">Multi-instance JDBC support</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/framework/connector/jdbc#specify-jdbc-connection-information-manually">Specify JDBC connection information manually</a></li></ul></div></div></div></div></div></main></div></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Join Community</div><ul class="footer__items clean-list"><li class="footer__item">
                <div class="subscribe-box btns">
                  <a class="btn btn-primary" href="https://github.com/apache/streampark"><i class="fa fa-github"></i><span>Github</span></a>
                  <a class="btn btn-primary" href="https://github.com/apache/streampark/issues"><i class="fa fa-slack"></i><span>Issue Tracking</span></a>
                  <a class="btn btn-primary" href="javascript:void(0)">
                    <i class="fa fa-wechat"></i>
                    <span>Wechat</span>
                    <div class="wechat-dropdown"><img src="/image/join_wechat.png" alt="weChat"></div>
                  </a>
                </div>
              </li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright"><div>
        <div>
          <div style="margin-bottom: 30px;">
              <img alt="Apache Software Foundation" class="footer__logo" width="400">
          </div>
        </div>

        <div>
          <span>
            Copyright © 2022-2025, The Apache Software Foundation<br>
            Apache StreamPark, StreamPark, Apache, the Apache feather and the Apache StreamPark project logo are either registered trademarks or trademarks of the Apache Software Foundation.
          </span>
        </div>
      </div></div></div></div></footer></div>
</body>
</html>